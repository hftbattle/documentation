# Описание основных особенностей системы

## Особенности биржи CME
- Торги в системе начинаются в 2 ночи по Москве, заканчиваются в 23:45 (это чуть раньше чем реальное окончание торгов)
- С биржи приходят данные только о количестве лотов на каждой цене, без разбиения на заявки внутри цен. Однако в симуляторе это разбиение воспроизводится с большой точностью. Поэтому можно узнать в каком месте в очереди находится ваша заявка, используя метод [get_amount_before_order](api/ParticipantStrategy.md#get_amount_before_order).
- На бирже происходит порядка 5-10 миллионов событий в день. 
- У каждого инструмента есть "цена в пунктах" (которая и показывается в стакане, по этим ценам совершаются сделки и т.д.) и эта же цена в некоторой валюте. Обычно они линейно связаны между собой. На фьючерсах S&P минимальный шаг цены в стакане - это 25 единиц, и ему соответствует цена в 12.5 долларов. 

## Особенности симулятора торгов
- События, приходящие в стратегию, бывают трех видов:  [обновление стакана](#api/ParticipantStrategy.md#trading_book_update), [сообщение о пачках сделок](#api/ParticipantStrategy.md#trading_deals_update) и [сообщение о вашей сделке](#api/ParticipantStrategy.md#execution_report_update). При этом, если случилась ваша сделка, то сначала придет апдейт о вашей сделке, потом - обновление с пачкой сделок и только после этого сообщение об изменении стакана. 
- Реализованы жесткие ограничения на набираемую [позицию](api/ContestBookInfo.md#total_amount), поэтому не удивляйтесь, если методы [add_limit_order](api/ParticipantStrategy.md#add_limit_order) и [add_ioc_order](api/ParticipantStrategy.md#add_ioc_order) будут возвращать *false*. Внимательнее смотрите в логи, мы сообщим вам о таких случаях!
- 
