# Описание основных особенностей системы

## Особенности биржи CME
- Торги в системе начинаются в 2 ночи по Москве, заканчиваются в 23:45 (это чуть раньше чем реальное окончание торгов)
- С биржи приходят данные только о количестве лотов на каждой цене, без разбиения на заявки внутри цен. Однако в симуляторе это разбиение воспроизводится с большой точностью. Поэтому можно узнать в каком месте в очереди находится ваша заявка, используя метод [get_amount_before_order](api/ParticipantStrategy.md#get_amount_before_order).
- На бирже происходит порядка 5-10 миллионов событий в день. 
- У каждого инструмента есть "цена в пунктах" (которая и показывается в стакане, по этим ценам совершаются сделки и т.д.) и эта же цена в некоторой валюте. Обычно они линейно связаны между собой. На фьючерсах S&P минимальный шаг цены в стакане - это 25 единиц, и ему соответствует цена в 12.5 долларов. 

## Особенности симулятора торгов
- События, приходящие в стратегию, бывают трех видов:  [обновление стакана](api/ParticipantStrategy.md#trading_book_update), [сообщение о пачках сделок](api/ParticipantStrategy.md#trading_deals_update) и [сообщение о вашей сделке](api/ParticipantStrategy.md#execution_report_update). При этом, если случилась ваша сделка, то сначала придет апдейт о вашей сделке, потом - обновление с пачкой сделок и только после этого сообщение об изменении стакана. 
- Реализованы жесткие ограничения на набираемую [позицию](api/ContestBookInfo.md#total_amount), поэтому не удивляйтесь, если методы [add_limit_order](api/ParticipantStrategy.md#add_limit_order) и [add_ioc_order](api/ParticipantStrategy.md#add_ioc_order) будут возвращать *false*. Внимательнее смотрите в логи, мы сообщим вам о таких случаях!
- Есть три ограничения, приближающих симулятор к реальности: ограничение на максимальную позицию (не больше 50 по модулю), ограничение на минимальный результат(если достигли -50000 долларов, то стратегия заканчивает работу на этом дне), и комиссия (меньше реальной биржевой, 0.5 доллара за каждый лот в сделке).

## Особенности системы
- Не забывайте, что рейтинговых посылок всего 2 в день! А еще не забудьте выбрать посылку, которая протестируется на еженедельном тестировании.
- К посылкам можно писать комментарии, чтобы не забыть, какую именно идею вы проверяли. Также посылки которые вьноам особенно понравились можно пометить значком "избранное"!
- Если интересно посмотреть как стратегия торгует на конкретном дне - советуем запускать только на нем, это будет гораздо быстрее!
- Ну а если хочется рез побольше, то попробуйте [перебрать параметры вашей стратегии](interface/params.md).

## Особенности viewer
- Вам показываются все события по одному, сделки объединены в пачки так же как они были отправлены биржей.
- Нажав на точку на графике с результатом и позицией, можно перейти во вьювер, и там отобразятся ваши заявки и сдлелки в районе того момента.
- Обратите внимание, что слева стакан, который был на самом деле на торгах в тот момент! На него вы влиять не могли.
- Можно ходить как по всем событиям, так и только по своим (подробнее [тут](interface/analysis/viewer.md))

