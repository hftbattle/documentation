# Особенности {{ book["contest.name"] }}
Здесь мы собрали основные особенности системы контеста. Данная страница не претендует на полноту, это лишь краткое описание, позволяющее быстро погрузиться в соревнование!

## Интерфейс участника
- У вас есть 2 контрольных посылки в день! Чтобы выбрать стратегию, которая прогонится на еженедельном тестировании,  нужно пометить строчку с этой посылкой галочкой.
- К посылкам можно писать комментарии, чтобы не забыть, какую именно идею вы проверяли. Также посылки можно помечать как  "избранные" (звездочка в строке с посылкой), чтобы облегчить себе навигацию в будущем.
- Если интересно посмотреть как стратегия торгует на конкретном дне - советуем запускать только на нем, так будет гораздо быстрее.
- Ну а чтобы выжать максимальный результат из вашей идеи, попробуйте [перебрать параметры стратегии](interface/params.md).

Подробнее в разделе [Интерфейс участника](interface/README.md).


## Пакет для локальной разработки
- Мы опубликовали на [GitHub]({{contest.local-pack.url}}) набор библиотек и файлов, достаточный для разработки и тестирования стратегий на вашем компьютере:
```
git clone https://github.com/hftbattle/local_pack.git
```
- Для работы с пакетом необходим компилятор g++ 4.9 и выше, а также CMake 2.8.4 и выше.
- Стратегия описывается в одном cpp-файле. Каждой стратегии соответствует одноименный json-файл.
- Чтобы собрать все имеющиеся в папке *strategies* стратегии, нужно запустить python-скрипт *build.py*, находящийся в корне репозитория:
```
> ./build.py
```
- Чтобы запустить нужную вам стратегию, нужно запустить python-скрипт *run.py*, передав ему в качестве аргумента путь до конфига стратегии:
```
> ./run.py strategies/user_strategy/user_strategy.json
```
- При создании новых стратегий в пакете для локальной разработки, нужно менять строчку с регистрацией стратегии в конце cpp-файла:
```
REGISTER_CONTEST_STRATEGY(UserStrategy, best_strategy_ever)
```
Подробнее в разделе [Пакет для локальной разработки](local-pack/README.md).

## Биржевые данные
- Для симуляции торгов используются данные фьючерса S&P Mini Чикагской товарной биржи [CME]({{ book["wiki.cme.url"] }}). 
- Торговая сессия начинается в 2 ночи по Москве (UTC+3), заканчивается в 23:45.
- На выбранном инструменте происходит порядка 5-10 миллионов биржевых событий в день.
- С биржи приходят данные только о количестве лотов на каждой цене, без разбиения на заявки внутри цен. Однако в симуляторе это разбиение воспроизводится с большой точностью. Поэтому можно узнать на каком месте в очереди находится ваша заявка, используя метод [get_amount_before_order](api/ParticipantStrategy.md#get_amount_before_order).
- У каждого инструмента есть "цена в пунктах", которая и показывается в стакане. По этим ценам совершаются сделки и т.д. В нашем случае 1 пункт = 0.5$, а минимальный шаг цены в стакане равен 25 пунктов ( = 12.5$).


## Симулятор торгов
- События, приходящие в стратегию, бывают трех видов:  [обновление стакана](api/ParticipantStrategy.md#trading_book_update), [обновление сделок](api/ParticipantStrategy.md#trading_deals_update) и [отчет о вашей сделке](api/ParticipantStrategy.md#execution_report_update). При этом, если случилась ваша сделка, то сначала придет обновление сделок, потом - обновление стакана и только после этого сообщение об изменении стакана. 
- Реализованы жесткие ограничения на набираемую [позицию](api/ContestBookInfo.md#total_amount), то есть разницу числа купленных и проданных лотов, поэтому не удивляйтесь, если методы добавления заявок [add_limit_order](api/ParticipantStrategy.md#add_limit_order) и [add_ioc_order](api/ParticipantStrategy.md#add_ioc_order) будут возвращать *false*. Внимательнее смотрите в логи стратегии, там содержится информация по всем вашим заявкам и сделкам.
- Есть три ограничения, приближающих симулятор торгов к реальности: 
    - максимальная [позиция](terms#position) по модулю равна 50,
    - минимальный результат = -50000$. Если достигли его, то стратегия автоматически завершает работу на этом дне.
    - комиссия = 0.5$ за каждый лот в сделке. Это значительно меньше реальной биржевой комиссии.

Подробнее в разделе [Симулятор торгов](simulator/README.md).

## Анализ биржевого стакана с помощью Viewer
- По адресу [{{ book["viewer.name"] }}]({{ book["viewer.url"] }}) вам доступен инструмент для визуализации биржевых торгов. В нем все события показываются атомарно, сделки объединены в пачки так же как они были отправлены биржей.
- Обратите внимание, что стакан во Viewer – это реальный стакан, то есть список пар <цена, суммарный объем на цене>, реально имевшихся на бирже в данный момент. На него вы влиять не могли.
- - Нажав на точку на графике с результатом и позицией, можно перейти во Viewer, и там отобразятся ваши заявки и сдлелки в районе того момента.
- Можно ходить как по всем событиям, так и только по своим.

Подробнее в разделе [Viewer](interface/analysis/viewer.md).
