### Viewer

Мы предоставляем вам инструмент для визуализации биржевых торгов — [Viewer]({{ book["viewer.url"] }}).
В нём можно посмотреть, что происходило на выбранном инструменте в любой момент любого дня из тренировочного набора.
Viewer доступен по адресу [{{ book["viewer.name"] }}]({{ book["viewer.url"] }}).

При этом у вас есть возможность получить Viewer как для реальных торгов (воспользовавшись ссылкой на Viewer в верхней части страницы), так и для виртуальных для вашей стратегии на конкретном дне (кнопка "Записать во Viewer" на странице посылки).

Его интерфейс состоит из следующих частей:

- график лучшей цены и сделок
- биржевые стаканы
- панель управления и информации

Разберем каждую из них подробнее:

- [График](#chart)
- [Управление](#control)
- [Панель управления](#panel)
- [Свои заявки](#orders)

## График {#chart}

График — это центральная часть аналитического инструмента.
По оси X располагается время (локальное время биржи), с точностью до микросекунд, по оси Y — уровень цены биржевого стакана.

Линиями на графике отображается лучшая цена.
Красные линии — лучшая цена продажи, зелёная — покупки.

Кроме того, на графике отображаются все сделки, которые были совершены на бирже.
На каждую сделку можно кликнуть и узнать, в какой именно момент она была совершена, какой у неё объём и другие параметры.

<!-- Иллюстрация работы с графиком выглядит следующим образом. -->
<!-- ![]({{ book["gitbook.img"] }}/viewer/chart.gif) -->

## Управление {#control}

В Viewer реализована симуляция биржевых торгов с последовательным применением событий к биржевому стакану.
Для того, чтобы перейти к следующему событию, необходимо нажать на клавиатуре клавишу "вправо" («→»), чтобы вернуться, соответственно, влево («←»).

Текущее местоположение показывается в виде вертикальной черты на графике.

Чтобы перейти в определенный момент на графике, можно дважды кликнуть по точке в графике, на которую вам хотелось бы перейти.
Другой способ отобразить определенный момент — виджет выбора времени в панели управления.

<!-- ![]({{ book["gitbook.img"] }}/viewer/time.gif) -->

<!-- TODO(asalikhov): there is a task to simplify date/time panel -->
Достаточно выбрать дату и время, которые вы хотите отобразить, и нажать на галочку (иконка ✔).

## Панель управления {#panel}

Состоит из трех вкладок:

- data

   Момент в заданном формате
- information

   Описание транзакций, совершенных в этот момент
- settings

  * Load seconds

     Период времени в секундах, за который будут прогружены данные при открытии Viewer.
  * Tool height

     Высота Viewer в пикселях.
  * Dense mode

     При включенном флаге Viewer не будет отображать пустые ценовые уровни.
  * Cumulative volume

     При включенном флаге для каждого ценового уровня дополнительно будет отображен суммарный объем всех заявок по данному направлению с ценой не хуже данной.
  * My events

     При включенном флаге "Stop only on my events" Viewer при навигации будет пропускать все события, в которых не учавствуют Ваши заявки.


<!-- ![]({{ book["gitbook.img"] }}/viewer/control-panel.gif) -->

## Свои заявки {#orders}

В инструменте предусмотрена работа со своими заявками, которые были сгенерированы вашей стратегией.
Для этого нужно нажать "Записать данные во Viewer" для конкретного дня на странице посылки.
По сгенерированной ссылке можно будет перейти во Viewer и увидеть стакан, который стратегия принимала на вход при получении обновлений по торговому инструменту (он может отличаться от построенного по историческим данным из-за предыдущих действий стратегии).
Вы можете нажать на объём и посмотреть, какие именно заявки стоят на цене, и когда каждая из них была добавлена.
Кроме того, вы можете перейти на момент постановки заявки, нажав на время в диалоговом окне.

<!-- Пример работы со своими заявками. -->
<!-- ![]({{ book["gitbook.img"] }}/viewer/deals.gif) -->

Ваши заявки так же отображаются на графике.
Чтобы узнать какой у них символ (форма) — достаточно посмотреть в панель управления данными.
Символ заявок будет отображен в колонке «@».
