###Логи

Важным элементом в разработке стратегии является сбор и анализ информации, полученной по ходу торгов. Так как биржевых событий за один день может быть очень много (порядка 10 млн), то возникает необходимость извлекать самые важные детали, характеристики и действия из стратегии.

Здесь мы рассмотрим несколько типов логов:
* [Сделки и заявки стратегии](#deals_and_orders)
* [orders.tsv](#orders)
* [deals.tsv](#deals)
* [Вывод информации из стратегии](#custom_output)

<a id="deals_and_orders"></a>
####Сделки и заявки стратегии
Система симуляции по умолчанию логирует все заявки и сделки вашей стратегии в файлы orders.tsv и deals.tsv соответственно. Рассмотрим формат каждого из файлов подробнее.

<a id="orders"></a>
####orders.tsv
Рассмотрим для примера поля и значения одной строки из файла с заявками стратегии **orders.tsv**:

|поле|значение|описание|
|--|--|--|
| action | add | действие над заявкой: add / del |
|server_time|2015-12-03 02:00:00.017824|биржевое время действия UTC+3|
| symbol | ESZ5 | название инструмента |
| price | 208300 | цена в пунктах, 1 пункт = 0.5$ |
| amount |  1| объем заявки (число лотов) |
| dir | Bid | направление заявки: BID / ASK |
| comment | "" | комментарий к заявке, по умолчанию пустой|
| add_tsc | 12718656979389 | время добавления заявки в микросекундах на машине, получающей данные (tsc от Time Stamp Counter)  |
| impl_tsc | 12718656979389 | время исполнения заявки в микросекундах на машине, получающей данные (tsc от Time Stamp Counter)  |
| order_type | Limit | тип заявки: Limit / IOC |
| status |  added | состояние заявки: added / deleted |
| reject_reason | "" | причина отказа выполнения, если есть|
| order_id | 13260000001 | уникальный идентификатор заявки |

<a id="deals"></a>
####deals.tsv
Аналогично рассмотрим строчку из файла со сделками стратегии **deals.tsv**:

|поле|значение|описание|
|--|--|--|
|server_time|2015-12-03 02:00:00.051442|биржевое время сделки UTC+3|
| symbol | ESZ5 | название инструмента |
| price | 208325 | цена в пунктах, 1 пункт = 0.5$ |
| amount |  1| объем заявки (число лотов) |
| dir | Sell | направление нашей заявки в сделке: BUY / SELL |
| comment | "" | комментарий к нашей заявке в сделке|
| impl_tsc | 12718657013060 | время исполнения сделки в микросекундах на машине, получающей данные (tsc от Time Stamp Counter)  |
| executed_amount | -1 | сведенный объем со знаком: < 0 - продали, > 0 - купили|
| approx_result |  -12.5 | примерный общий результат после пачки одновременных сделок |
| saldo | 104162 |  баланс **всех сделок**, совершенных стратегий, в долларах |
| order_id_bid | 13580000000 | уникальный идентификатор заявки на покупку |
| order_id_ask | 13260000002 | уникальный идентификатор заявки на продажу|
| aggressor_side | 0 | направление заявки-агрессора |

<a id="custom_output"></a>
####Вывод информации из стратегии
Для всех посылок в тренировочном режиме доступны следующие способы вывода информации из стратегии:
1. Стандартный вывод в `stdout`. Его рекомендуется использовать для мелких логов, проверки правильности задания параметров и т.п. Логи в stdout **ограничены 2 тыс. строк** по 1 тыс. символов каждая для одной симуляции.
2. Логирование в файлы с помощью `INFO() << `:
```c++
INFO() << "This is my awesome strategy";
```
Для логирования большого объема информации рекомендуется использовать логи в файлы с помощью `INFO()`. Логи в `INFO` в сумме с автоматическими логами ваших заявок и сделок **ограничены 100 мегабайтами** для одной симуляции.
