## Добавление стратегии

Со временем у вас может возникнуть необходимость разрабатывать одновременно несколько различных стратегий или идей.
При этом держать всё в рамках одного файла становится неудобно.
Здесь будет рассказано, как можно добавлять новые стратегии в пакете для локальной разработки.

Далее будет описано, как создать новую стратегию:
- [На языке C++](#cpp)
- [На языке Python](#python)

### Создание новой C++ стратегии<a id="cpp"></a>

Для создания новой стратегии на языке C++:
#### 1. Создайте папку стратегии

- В папке `strategies` создайте копию папки `sample_strategy`
- Выберите имя для вашей стратегии.
Далее, мы будем обозначать его *strategy_name*.
- Назовите новую папку, а также json и cpp файлы в ней *strategy_name*, *strategy_name.json*, *strategy_name.cpp* соответственно.

#### 2. Зарегистрируйте стратегию

После копирования файлов стратегии необходимо немного изменить *cpp* файл стратегии.
А именно, нужно **зарегистрировать** свою новую стратегию следующей командой в конце cpp-файла:

```c++
REGISTER_CONTEST_STRATEGY(UserStrategy, [strategy_name])
```

Например, если ваша папка, .json-файл и стратегия называются *best_strategy_ever*, то вам необходимо добавить следующую строку в конец файла *best_strategy_ever.cpp*:

```c++
REGISTER_CONTEST_STRATEGY(UserStrategy, best_strategy_ever)
```

Необходимость регистрировать новую стратегию вызвана особенностями динамической линковки стратегий с симулятором.
При этом в систему [{{ book["contest.arena.name"] }}]({{ book["contest.arena.url"] }}) вы можете посылать код стратегий, не заботясь о регистрации, т.е. как с ней, так и без неё.

#### 3. Перезагрузите CMake в СLion

Если вы работаете из CLion, то вам нужно выполнить *Tools > CMake > Reload CMake Project*.
Это перезагрузит CMake.

### Создание новой Python стратегии<a id="python"></a>

Для создания новой стратегии на языке Python:

#### 1. Создайте папку стратегии

- В папке `strategies` создайте копию папки `python_strategy`
- Выберите имя для вашей стратегии. Далее, мы будем обозначать его *strategy_name*.
- Назовите новую папку, а также json и cpp файлы в ней *strategy_name*, *strategy_name.json*, *strategy_name.cpp* соответственно.

**Внимание**: не изменяйте имена других файлов.

Код стратегии при этом находится в файле *python_strategy.py*.

Далее вы можете [запустить](run_strategy.md) новую стратегию.
