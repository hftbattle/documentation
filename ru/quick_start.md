# Быстрый старт

Здесь описаны основные особенности системы контеста.
Данная страница не претендует на полноту, это лишь краткое описание, позволяющее быстро погрузиться в соревнование!

- [Организация соревнования](#org)
- [Симулятор торгов](#simulator)
- [Интерфейс участника](#interface)
- [Пакет для локальной разработки](#local-pack)
- [Анализ биржевого стакана с помощью Viewer](#viewer)

## Организация соревнования {#org}

В соревновании есть три типа посылок:

- [Тренировочные посылки](interface/modes.md#training_mode) — используйте их для разработки и улучшения своих стратегий.
- [Контрольные](interface/modes.md#control_mode) — в этом режиме ваши стратегии будут запущены на новом наборе дней, который недоступен в режиме тренировки — это нужно, чтобы вы смогли оценить, насколько хорошо ваша стратегия обобщается на новые данные.
  Кроме того, контрольные посылки участвуют в [общем рейтинге]({{ book["contest.arena.leaderboard.url"] }}).
  Вы можете делать до {{ book["constraint.daily_control_submissions.ru.gen"] }} таких посылок в день.
- [Еженедельные](interface/modes.md#weekly_mode) — каждую неделю выбранная вами стратегия (либо лучшая среди контрольных запусков) будет запущена на абсолютно новых данных.

По окончании основного этапа соревнования будет произведено [Финальное тестирование](interface/modes.md#final_test).

## Симулятор торгов {#simulator}

- Есть четыре ограничения, приближающих симулятор торгов к реальности:
  - Максимальный размер открытой [позиции](terms.md#position) ограничен {{ book["constraint.position"] }} лотами на покупку и на продажу.
    Как такового начального капитала нет, ограничение на набираемую позицию, по сути, и является ограничением на начальный капитал.
  - Если стратегия достигает отрицательного результата в {{ book["constraint.stop_loss"] }} в течение торгового дня, то симулятор автоматически закрывает её позицию и завершает торговлю.
  - Комиссия = {{ book["constraint.comission"] }} за каждый лот в сделке.
  - Есть round-trip, равный {{ book["constraint.round-trip"] }} микросекундам — время, которое проходит от того момента, как вы захотели что-то сделать (поставить или удалить заявку) до реального исполнения этого действия.
- Есть закрытие [позиции](terms.md#position) в конце торгового дня.
  Это происходит автоматически для вашего удобства.
- События, приходящие в стратегию, бывают трех видов:  [обновление стакана](api/ParticipantStrategy.md#trading_book_update), [обновление сделок](api/ParticipantStrategy.md#trading_deals_update) и [отчёт об исполнении вашей заявки](api/ParticipantStrategy.md#execution_report_update).
  <!-- TODO(asalikhov): check, if this is true -->
  При этом, если произошла сделка с участием вашей заявки, то сначала придёт отчёт об исполнении вашей заявки, потом — обновление сделок и только после этого сообщение об изменении стакана.

Внимательно смотрите в логи стратегии, там содержится полезная информация по всем вашим заявкам и сделкам.

Подробнее в разделе [Симулятор торгов](simulator/README.md).

## Интерфейс участника {#interface}

- К посылкам можно писать комментарии, чтобы не забыть, какую именно идею вы проверяли.
  Также посылки можно помечать как "избранные" (звездочка в строке с посылкой), чтобы облегчить себе навигацию в будущем.
- Чтобы выбрать стратегию, которая прогонится на еженедельном тестировании, нужно отметить строку с этой посылкой галочкой.
- Если интересно посмотреть, как стратегия торгует на конкретном дне, рекомендуется запускать стратегию только на нём — так вы получите результат стратегии на этом дне быстрее.
- Ну а чтобы выжать максимальный результат из вашей идеи, попробуйте [перебрать параметры стратегии](interface/params.md).

Подробнее в разделе [Интерфейс участника](interface/README.md).

## Пакет для локальной разработки {#local-pack}

- Мы опубликовали на [GitHub]({{ book["contest.local-pack.url"] }}) симулятор для локальной разработки стратегий:

  ```bash
  git clone https://github.com/hftbattle/hftbattle.git
  ```
- Для работы с пакетом необходим компилятор g++ 5.0 и выше, а также CMake 2.8.4 и выше.
- Если стратегия реализована на языке C++, то она описывается в cpp-файле, если же на языке Python, то её код содержится в файле *python_strategy.py*.
  Каждой стратегии соответствует одноимённый json-файл.
- Чтобы собрать все имеющиеся в папке *strategies* стратегии, нужно запустить python-скрипт *build.py*, находящийся в корне репозитория:

  ```bash
  ./build.py
  ```
- Чтобы запустить нужную вам стратегию, нужно запустить python-скрипт *run.py*, передав ему в качестве аргумента название вашей стратегии:

  ```bash
  ./run.py user_strategy
  ```
- При создании новых стратегий на языке C++ в пакете для локальной разработки, нужно менять строчку с регистрацией стратегии в конце cpp-файла.
  Обратите внимание, что *best_strategy_ever* здесь — это название папки, cpp и json файла:

  ```c++
  REGISTER_CONTEST_STRATEGY(UserStrategy, best_strategy_ever)
  ```

Подробнее в разделе [Пакет для локальной разработки](local-pack/README.md).

## Анализ биржевого стакана с помощью Viewer {#viewer}

<!-- TODO(asalikhov): rewrite, when viewer will change -->
- По адресу [{{ book["viewer.name"] }}]({{ book["viewer.url"] }}) вам доступен инструмент для визуализации биржевых торгов.
  В нём все события показываются атомарно, сделки объединены в пачки так же, как они были отправлены биржей.
- Обратите внимание, что стакан во Viewer — это реальный стакан, то есть список пар <цена, суммарный объём на цене>, реально имевшихся на бирже в данный момент.
  На него вы влиять не могли.
- Нажав на точку на графике с результатом и позицией, можно перейти во Viewer, и там отобразятся ваши заявки и сделки в районе выбранного момента.
<!-- TODO(asalikhov): check this: -->
- Можно перемещаться как по всем событиям, так и только по своим.

Подробнее в разделе [Viewer](interface/analysis/viewer.md).
