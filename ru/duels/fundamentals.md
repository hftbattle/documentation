## Основные положения и особенности

Здесь мы опишем основные моменты соревнования, касающиеся режима *дуэли*.

Темы текущего раздела:

- [Участие в Дуэлях](#participance)
- [Запуск нескольких стратегий](#execute)
- [Изменение результата дуэли после повторной отправки](#changing_result)
- [Зачем нужны дуэли?](#purpose)

### Участие в Дуэлях {#participance}

К участию в дуэлях допускаются только посылки, набравшие положительный результат на контрольной выборке.
Соответственно, в веб-системе данный режим будет доступен только тем участникам, у которых есть такие посылки.

У вас есть два способа участия в Дуэлях:

- посредством автоматического тестирования, о котором вы можете прочитать [на соответствующей странице](automatic_mode.md).
- с помощью ручного тестирования ваших стратегий со стратегиями других участников.
  Более подробную информацию можно узнать [здесь](manual_mode.md).

### Запуск нескольких стратегий {#execute}

Симуляция общается со стратегией посредством таких методов, как *trading_book_update*, *trading_deals_update* и *execution_report_update*.
Подробнее про эти методы читайте [здесь](/api/ParticipantStrategy.md).

После вызова любой из этих функций мы считаем время до каждого вызова методов постановки и удаления заявок вашей стратегии.
Далее мы сортируем все эти вызовы по времени для всех стратегий, участвующих в дуэли и исполняем их в этом порядке.

Отметим, что вызовы *trading_book_update* и *trading_deals_update* приходят одновременно во все стратегии, тогда как вызовы *execution_report_update* приходят только в те стратегии, чьи заявки были исполнены.

Надо помнить, что, чем раньше была поставлена заявка, тем раньше она будет исполнена, и придёт *execution_report_update* при прочих равных.

### Изменение результата дуэли после повторной отправки {#changing_result}

<!-- TODO(asalikhov): this may not be true in the future, but right now it is. -->
Время работы функции зависит от загруженности системы и может изменяться от запуска к запуску.
Поэтому при разных запусках одна из стратегий может оказаться как быстрее, так и медленнее другой в пределах работы одного метода.
Эти факторы могут незначительно повлиять на результат дуэли.

### Зачем нужны дуэли? {#purpose}

С одной стороны, в HFT огромную роль играет скорость вашей стратегии.
Симулятор же, если запущена лишь одна стратегия, никак этого не учитывает.
При этом биржевые данные, хоть и отражают реальную ситуацию на рынке, не являются идеальным способом оценить вашу стратегию, так как другие участники рынка не могут реагировать на поведение вашей стратегии в рамках симуляции.

Надо понимать, что идеально симулировать поведение участников рынка невозможно.
Режим дуэлей призван показать, как ведёт себя стратегия в ситуации, более приближенной к реальности, где важны не только идея стратегии, но её реализация и реакция других участников рынка.
