## Основные положения и особенности

Здесь мы опишем основные моменты соревнования, касающиеся режима *дуэли*.

Темы текущего раздела:

- [Запуск нескольких стратегий](#execute)
- [Изменение результата дуэли после повторной отправки](#changing_result)
- [Зачем нужны дуэли?](#purpose)

### Запуск нескольких стратегий {#execute}

Симуляция общается со стратегией посредством таких методов, как *trading_book_update*, *trading_deals_update* и *execution_report_update*.
Подробнее про эти методы читайте [здесь](/api/ParticipantStrategy.md).
<!-- TODO(asalikhov): false if order book is virtual -->
Вызов *trading_book_update* зависит лишь от исторических данных, вызов *execution_report_update* зависит от поведения вашей стратегии, а вызов *trading_deals_update* может быть как основан на исторических данных, так и зависеть от заявок стратегии.

<!-- TODO(asalikhov): time will be counted prior to action -->
После вызова *trading_book_update* симулятором мы считаем время работы этого метода для каждой из стратегий.
Далее симулятор ставит и удаляет заявки в порядке увеличения времени работы стратегий.
<!-- TODO(asalikhov): if virt_deals_upds is true, this may change -->
То же самое происходит для метода *trading_deals_update* в случае, когда обновление заявок основано на исторических данных.

Вызовы *execution_report_update* и *trading_deals_update*, зависящих от наших заявок, являются уникальными для каждой из стратегий, поэтому время работы этой функции не учитывается.
Надо помнить, что, чем раньше была поставлена заявка, тем раньше она будет исполнена, и придёт *execution_report_update* при прочих равных.

### Изменение результата дуэли после повторной отправки {#changing_result}

<!-- TODO(asalikhov): this may not be true in the future, but right now it is. -->
Время работы функции зависит от загруженности системы и может изменяться от запуска к запуску.
Поэтому при разных запусках одна из стратегий может оказаться как быстрее, так и медленнее другой в пределах работы одного метода.
Эти факторы могут незначительно повлиять на результат дуэли.

### Зачем нужны дуэли? {#purpose}

С одной стороны, в HFT огромную роль играет скорость вашей стратегии.
Симулятор же, если запущена лишь одна стратегия, никак этого не учитывает.
При этом биржевые данные, хоть и отражают реальную ситуацию на рынке, не являются идеальным способом оценить вашу стратегию, так как другие участники рынка не могут реагировать на поведение вашей стратегии в рамках симуляции.

Надо понимать, что идеально симулировать поведение участников рынка невозможно.
Режим дуэлей призван показать, как ведёт себя стратегия в ситуации, более приближенной к реальности, где важны не только идея стратегии, но её реализация и реакция других участников рынка.
