## Добавление стратегии

Со временем у вас может возникнуть необходимость разрабатывать одновременно несколько различных стратегий или идей.
При этом держать всё в рамках одного файла становится неудобно.
В этом разделе мы расскажем о том, как можно добавлять новые стратегии в пакете для локальной разработки:

- [На языке C++](#cpp)
- [На языке Python](#python)

### Создание новой C++ стратегии {#cpp}

#### 1. Создайте папку стратегии

- В папке `strategies` создайте копию папки `sample_strategy`
- Выберите имя для вашей стратегии.

  Далее, мы будем обозначать его *strategy_name*.

- Назовите новую папку, а также json и cpp файлы в ней *strategy_name*, *strategy_name.json*, *strategy_name.cpp* соответственно.

#### 2. Зарегистрируйте стратегию

После копирования файлов стратегии необходимо немного изменить *cpp* файл стратегии.
А именно, нужно **зарегистрировать** свою новую стратегию следующей командой в конце cpp-файла:

```c++
REGISTER_CONTEST_STRATEGY(UserStrategy, strategy_name)
```

Например, если ваша папка, .json-файл и стратегия называются *best_strategy_ever*, то вам необходимо добавить следующую строку в конец файла *best_strategy_ever.cpp*:

```c++
REGISTER_CONTEST_STRATEGY(UserStrategy, best_strategy_ever)
```

Необходимость регистрировать новую стратегию вызвана особенностями динамической линковки стратегий с симулятором.

#### 3. Перезагрузите CMake

- Для тех, кто работает из консоли, нужно заново выполнить скрипт *build.py*:
  ```bash
  ./build.py
  ```
- Если вы работаете из CLion, то вам нужно выполнить *Tools > CMake > Reload CMake Project*.

### Создание новой Python стратегии {#python}

К сожалению, пока нет возможности создавать новые папки для `Python` стратегий.
Пожалуйста, пишите свою стратегию в файле `strategies/python_strategy/python_strategy.py`.
О запуске стратегии вы можете почитать [здесь](run_strategy.md).

<!-- TODO(asalikhov): it may be allowed to write in another files -->
<!-- Для создания новой стратегии на языке Python:

#### 1. Создайте папку стратегии

- В папке `strategies` создайте копию папки `python_strategy`
- Выберите имя для вашей стратегии.
  Далее, мы будем обозначать его *strategy_name*.
- Назовите новую папку, а также json и cpp файлы в ней *strategy_name*, *strategy_name.json*, *strategy_name.cpp* соответственно.

**Внимание**: не изменяйте имена других файлов.

Код стратегии при этом находится в файле *python_strategy.py*.

Далее вы можете [запустить](run_strategy.md) новую стратегию. -->
